# Lesson 01: 基本操作

## 概要
このレッスンでは、Claude Codeの基本的な操作方法を学びます。コードの理解、ファイル操作、基本コマンドの使い方を実践します。

**所要時間**: 約30分

## 学習目標
- Claude Codeを使ったコードベース探索
- 自然言語でのコード理解・質問
- 基本的なファイル操作
- `/commit`コマンドの使用

---

## Exercise 1: プロジェクト構造の理解

### 1.1 プロジェクト全体の把握

Claude Codeに以下のように質問してみましょう:

```
このプロジェクトの構造を説明して
```

Claude Codeは自動的にファイルを探索し、プロジェクトの構成を説明してくれます。

### 1.2 特定ファイルの理解

```
TaskController.java の処理フローを教えて
```

コントローラーの各エンドポイントがどのように動作するか、詳細な説明が得られます。

### 1.3 依存関係の確認

```
このプロジェクトが使用している外部ライブラリを教えて
```

pom.xmlを解析し、使用されているSpring Bootスターターやその他の依存関係を説明してくれます。

---

## Exercise 2: コードの詳細理解

### 2.1 エンティティの構造

```
Task エンティティのフィールドと、それぞれの役割を教えて
```

### 2.2 レイヤー間の関係

```
Controller → Service → Repository の処理の流れを説明して
```

### 2.3 特定のメソッドの理解

```
TaskService の searchTasks メソッドは何をしているの？
```

このメソッドは意図的に複雑に書かれています。後のレッスンでリファクタリングの題材になります。

---

## Exercise 3: APIの確認

### 3.1 エンドポイント一覧

```
利用可能なAPIエンドポイントを一覧にして
```

### 3.2 レスポンス形式

```
GET /api/tasks のレスポンス形式を教えて
```

### 3.3 リクエスト例の生成

```
POST /api/tasks のcurlコマンド例を作って
```

---

## Exercise 4: ファイル操作

### 4.1 ファイルの読み取り

```
application.properties の内容を見せて
```

### 4.2 設定の変更

H2コンソールへのアクセスパスを変更してみましょう:

```
application.properties の H2コンソールのパスを /db-console に変更して
```

Claude Codeがファイルを編集します。変更前に確認を求められるので、内容を確認してから承認してください。

### 4.3 変更の確認

```bash
# アプリケーションを再起動して確認
mvn spring-boot:run
```

ブラウザで `http://localhost:8080/db-console` にアクセスして、H2コンソールが表示されることを確認します。

---

## Exercise 5: コミット

### 5.1 変更状態の確認

```
現在の変更状態を教えて
```

Claude Codeが `git status` と `git diff` を実行し、変更内容を説明してくれます。

### 5.2 コミットの作成

変更をコミットしましょう:

```
/commit
```

または自然言語で:

```
この変更をコミットして
```

Claude Codeが:
1. 変更内容を分析
2. 適切なコミットメッセージを提案
3. 確認後にコミットを実行

### 5.3 コミット履歴の確認

```
最近のコミット履歴を見せて
```

---

## Exercise 6: テストの確認と実行

### 6.1 テストファイルの確認

```
このプロジェクトのテストファイルを教えて
```

### 6.2 テストの理解

```
TaskServiceTest の各テストケースを説明して
```

### 6.3 テストの実行

```
テストを実行して
```

Claude Codeが `mvn test` を実行し、結果を報告します。

---

## 実践課題

以下の課題に挑戦してみましょう:

### 課題1: コード調査
```
TaskRepository にはどんなメソッドがある？
カスタムクエリメソッドはどのように動作する？
```

### 課題2: 設定変更
```
アプリケーション名を "my-task-api" に変更して
```

変更後、テストが通ることを確認してください。

### 課題3: 文書化
```
このプロジェクトのREADME.mdを作成して
APIエンドポイント、セットアップ方法、使い方を含めて
```

---

## よく使うプロンプトパターン

| 目的 | プロンプト例 |
|------|------------|
| 構造理解 | 「〜の構造を説明して」 |
| 処理追跡 | 「〜の処理フローを教えて」 |
| コード読解 | 「〜のメソッドは何をしている？」 |
| 比較 | 「AとBの違いは？」 |
| 検索 | 「〜を使っている箇所を探して」 |
| 確認 | 「現在の〜を見せて」 |
| 実行 | 「テストを実行して」「ビルドして」 |

---

## チェックポイント

このレッスンを完了したら、以下ができるようになっているはずです:

- [ ] Claude Codeでプロジェクト構造を理解できる
- [ ] 自然言語でコードについて質問できる
- [ ] ファイルの読み取り・編集を依頼できる
- [ ] `/commit` コマンドで変更をコミットできる
- [ ] テストの実行を依頼できる

---

## Tips

1. **具体的に質問する**: 「このコードを説明して」より「TaskServiceのupdateTaskメソッドの処理フローを教えて」の方が良い回答が得られます

2. **段階的に進める**: 大きな変更は小さなステップに分けて依頼しましょう

3. **確認を忘れずに**: ファイル変更前には必ず内容を確認してから承認しましょう

4. **履歴を活用**: 前の質問の文脈を引き継いで質問できます

---

## 次のステップ

基本操作をマスターしたら、[Lesson 02: 新機能開発](./02-feature-development.md)に進みましょう。ここではsubagentを活用した機能開発を学びます。
