リファクタリングワークフローを開始します。

対象: $ARGUMENTS

## リファクタリング原則
- **動作を変えない**: 機能は同一のまま
- **テストを先に**: 既存テストがパスすることを確認
- **小さなステップ**: 一度に大きく変えない
- **頻繁にテスト**: 各ステップでテスト実行

## ワークフロー

### 1. 現状分析
- 対象コードを読む
- 依存関係を特定
- テストカバレッジを確認

### 2. テスト確認
```bash
npm test -- --coverage path/to/target
```
カバレッジが不足していれば先にテストを追加

### 3. リファクタリング実行
優先順位の高いパターン:
1. **命名の改善** - 意図が明確な名前に
2. **関数の抽出** - 長い関数を分割
3. **重複の削除** - DRY原則
4. **条件式の簡略化** - 早期リターン
5. **デッドコード削除** - 未使用コードを除去

### 4. 各ステップ後にテスト
```bash
npm test
```

### 5. コミット
```
refactor(<scope>): <description>
```

## チェックリスト
- [ ] 既存テストが全てパス
- [ ] 新しいテストが必要なら追加
- [ ] Lintエラーなし
- [ ] パフォーマンスに悪影響なし
- [ ] 可読性が向上

## 代表的なリファクタリング
| パターン | Before | After |
|---------|--------|-------|
| 関数抽出 | 100行の関数 | 10行×10関数 |
| 条件分岐簡略化 | ネストif | 早期return |
| ループ→高階関数 | for + push | map/filter |
| マジックナンバー | `if (x > 100)` | `if (x > MAX_LIMIT)` |

今すぐ対象コードを分析してリファクタリング計画を立ててください。
