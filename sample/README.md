# Claude Code 設定サンプル集

このディレクトリには、dotfilesに含まれるClaude Code設定の使用例が含まれています。

> **Note**: サンプルは具体的な例として記載していますが、どの言語・フレームワークでも同様のワークフローが適用できます。プロジェクトに応じて読み替えてください。

## 目次

1. [セットアップ](#セットアップ)
2. [コマンドの使用例](#コマンドの使用例)
3. [エージェントの活用](#エージェントの活用)
4. [スキルの参照](#スキルの参照)
5. [ワークフロー例](#ワークフロー例)

---

## セットアップ

### 1. dotfilesをシンボリックリンク

```bash
# ホームディレクトリにリンク
ln -sf /path/to/dotfies/.claude ~/.claude

# または、プロジェクトごとにコピー
cp -r /path/to/dotfies/.claude /path/to/your/project/
```

### 2. プロジェクト固有の設定を追加

各プロジェクトで `.claude/CLAUDE.md` にプロジェクト固有の情報を追記:

```markdown
# プロジェクト名

## 技術スタック
- 言語: [言語名]
- フレームワーク: [フレームワーク名]
- データベース: [DB名]

## コマンド
- テスト: `[テストコマンド]`
- Lint: `[Lintコマンド]`
- ビルド: `[ビルドコマンド]`
```

### 3. MCP Serversの環境変数設定（オプション）

```bash
# ~/.zshrc または ~/.bashrc に追加
export GITHUB_TOKEN="your-token"
export DATABASE_URL="your-database-url"
```

---

## コマンドの使用例

### `/commit` - コミットメッセージ自動生成

```
あなた: /commit
```

Claudeが変更内容を分析し、Conventional Commits形式でメッセージを提案します。

### `/fix-bug` - バグ修正ワークフロー

```
あなた: /fix-bug ユーザーが削除できない #78
```

Claudeが以下を実行:
1. 原因調査
2. 再現テスト作成
3. 修正実装
4. 検証

### `/refactor` - リファクタリング支援

```
あなた: /refactor path/to/file
```

Claudeがコードを分析し、改善計画を提示します。

### `/setup-feature` - 新機能開発開始

```
あなた: /setup-feature user-auth
```

Claudeが以下を実行:
1. 機能ブランチ作成
2. 実装計画作成
3. ユーザー承認後に実装

### `/create-pr` - PR作成

```
あなた: /create-pr 認証機能の追加
```

テスト・Lint実行後、PRを自動作成します。

### `/review-pr` - PRレビュー

```
あなた: /review-pr 42
```

PR #42 の変更をレビューし、フィードバックを提供します。

---

## エージェントの活用

### feature-planner（設計担当）

```
あなた: 新しいAPI認証機能を計画して
```

実装計画、変更ファイル一覧、テスト戦略、リスク評価を出力します。

### feature-implementer（実装担当）

```
あなた: 上記の計画を実装して
```

TDDサイクル（RED → GREEN → REFACTOR）で実装します。

### code-reviewer（レビュー担当）

```
あなた: 今の変更をレビューして
```

品質・セキュリティ・パフォーマンスの観点でレビューします。

---

## スキルの参照

| スキル | 用途 | 自動ロード条件 |
|--------|------|---------------|
| security-check | セキュリティ検証 | 認証・パスワード処理時 |
| tdd-workflow | TDDガイド | テスト作成時 |
| error-handling | 例外処理パターン | try-catch実装時 |
| performance | 最適化チェック | パフォーマンス議論時 |
| accessibility | a11yガイド | UI実装時 |
| api-design | REST API設計 | API実装時 |

---

## ワークフロー例

### 例1: 新機能の追加（フルフロー）

```
# 1. 機能開発を開始
あなた: /setup-feature shopping-cart

# 2. 計画の確認・承認
あなた: この計画で進めてください

# 3. 実装中の質問に回答
あなた: カート内の商品数上限は50にしてください

# 4. 実装完了後、レビュー依頼
あなた: レビューして

# 5. PR作成
あなた: /create-pr ショッピングカート機能の追加
```

### 例2: バグ修正（クイックフロー）

```
# 1. バグ修正開始
あなた: /fix-bug 価格が0円で表示される #456

# 2. 修正確認
あなた: テストを実行して

# 3. コミット
あなた: /commit

# 4. PR作成
あなた: /create-pr Fix: 価格表示のバグを修正
```

### 例3: リファクタリング

```
# 1. 対象を分析
あなた: /refactor services/order_service

# 2. 計画を確認
あなた: この計画で進めてください

# 3. 段階的に実行
あなた: 最初のステップを実行して

# 4. 完了後コミット
あなた: /commit
```

---

## トラブルシューティング

### 設定が読み込まれない

```bash
# .claudeディレクトリの存在確認
ls -la .claude/

# パーミッション確認
chmod -R 755 .claude/
```

### コマンドが見つからない

```bash
# コマンドファイルの存在確認
ls .claude/commands/
```

---

## 次のステップ

1. 実際のプロジェクトで設定を試す
2. プロジェクト固有の設定を `.claude/CLAUDE.md` に追加
3. 必要に応じてカスタムコマンド/スキルを追加
